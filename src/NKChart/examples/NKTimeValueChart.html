<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>NKTimeValueChart example</title>

    <script type="text/javascript" src="../../external_libs/big.js"></script>
    <script type="text/javascript" src="../../NK/NKBase.js"></script>
    <script type="text/javascript" src="../../NKDate/NKDate.js"></script>
    <script type="text/javascript" src="../../NKDrawbox/NKDrawbox.js"></script>
    <script type="text/javascript" src="candle_data.tempjs"></script>
    
    <script type="text/javascript" src="../NKTimeValueChart.js"></script>
</head>

<body>
        <br /><br />

        <div style="display: grid; grid-template-columns: auto 200px;">

            <div id="my_chart" style="background-color: ghostwhite;">
                Chart area
            </div>

            <div id="valueline_chart" style="background-color: whitesmoke;">
                Values area
            </div>

        </div>
        
        <div id="timeline_chart" style="background-color: whitesmoke;">
            Timeline area
        </div>

    

    <script>


        let my_chart = new NKTimeValueChart('my_chart', 'valueline_chart', 'timeline_chart');
        my_chart.setSize( 5, 3, 300 );


        for ( let i = 0; i < candle_data.length; i++ ) {
            if ( candle_data[i][2] === null ) candle_data[i] = candle_data[i-1];
            let data = candle_data[i];

            // Data contents:
            // 0. timestamp
            // 1. open
            // 2. high
            // 3. low
            // 4. close
            // 5. volume
            // 6. close_timestamp
            // 7. quote_asset_volume
            // 8. number_of_trades
            // 9. taker_buy_base_asset_volume
            // 10. taker_buy_quote_asset_volume
            // 11. ignore (deprecated)

            my_chart.addCandle( i, data[0], data[2], data[1], data[4], data[3] );
        }

        my_chart.repaint();
        
        my_chart.setMouseMoveCbk( function( x, y, candle_i, price_value ) {
            console.log( "Mouse move: " + x + ", " + y + ", candle_i: " + candle_i + ", price_value: " + price_value );
        } );

    </script>

</body>



</html>



