<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Set and preserve form fields example.</title>
        <script src="http://code.jquery.com/jquery-3.1.1.min.js"></script>
        <script type="text/javascript" src="../../NKBase/NKBase.js" ></script>
        <script type="text/javascript" src="../NKForm.js" ></script>
    </head>

    <body>


        <form id="my_form">
            Name: <input type="text" name="my_name" value="Scott"><br>
            Description: <textarea name="my_description" >Hello Scott</textarea><br>
            Eye color:
            <select name="my_eye_color">
                <option value="brown">Brown</option>
                <option value="blue">Blue</option>
                <option value="green">Green</option>
            </select>
        </form>

        <input type="button" onclick="reloadPage()" value="Reload page">

        <script>

            NKForm.setFields('#my_form', sessionStorage.getItem('stored_fields'), true );

            function reloadPage() {
                sessionStorage.setItem('stored_fields', NKForm.getFields('#my_form', true) );
                location.reload();
            }

        </script>



    </body>

</html>